<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ëŒë¦¼íŒ ê²Œì„</title>
<style>
  body {
    text-align: center;
    font-family: Arial, sans-serif;
    background: #f3f3f3;
    padding-top: 50px;
  }
  canvas {
    border: 5px solid #444;
    border-radius: 50%;
    box-shadow: 0 0 20px #aaa;
    background: white;
  }
  #container {
    position: relative;
    width: 400px;
    margin: 0 auto;
  }
  #pointer {
    position: absolute;
    top: -10px; /* í™”ì‚´í‘œ ìœ„ì¹˜ ì•½ê°„ ë‚´ë¦¼ */
    left: 50%;
    margin-left: -15px;
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-top: 30px solid red;
    z-index: 10;
  }
  #result {
    margin-top: 30px;
    font-size: 28px;
    font-weight: bold;
  }
  button {
    margin-top: 20px;
    font-size: 18px;
    padding: 8px 20px;
  }
</style>
</head>
<body>
  <h1>ğŸ¯ ëŒë¦¼íŒ ê²Œì„</h1>
  <div id="container">
    <div id="pointer"></div>
    <canvas id="wheel" width="400" height="400"></canvas>
  </div>
  <button id="spinButton">ëŒë¦¬ê¸°!</button>
  <div id="result"></div>

<script>
  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const segments = [
    { text: "1,000P", value: "1,000P", color: "#FF6171" },
    { text: "3,000P", value: "3,000P", color: "#3D9BE9" },
    { text: "5,000P", value: "5,000P", color: "#F8C64D" },
    { text: "10,000P", value: "10,000P", color: "#44B4B8" },
    { text: "ì¹˜í‚¨", value: "ì¹˜í‚¨", color: "#8E7AF2" }
  ];

  const centerX = canvas.width / 2;
  const centerY = canvas.height / 2;
  const radius = 180;
  let startAngle = 0;

  // ê¸€ì ìœ„ì¹˜ ê°ë„ ì¡°ì •ìš© (ê¸€ìê°€ ì› ì¤‘ì‹¬ìª½ìœ¼ë¡œ ì‚´ì§ ë¶™ë„ë¡)
  const textRadiusOffset = 60;

  function drawSegment(index, angleStart, angleEnd) {
    const segment = segments[index];
    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.arc(centerX, centerY, radius, angleStart, angleEnd);
    ctx.closePath();

    // ìƒ‰ì¹ 
    ctx.fillStyle = segment.color;
    ctx.fill();

    // ê¸€ì ì“°ê¸°
    ctx.save();
    ctx.fillStyle = "white";
    ctx.font = "bold 20px Arial";
    ctx.translate(centerX, centerY);

    // ê° ì„¹í„° ì¤‘ì•™ ê°ë„ êµ¬í•˜ê¸°
    const angle = (angleStart + angleEnd) / 2;
    ctx.rotate(angle);

    // í…ìŠ¤íŠ¸ ìœ„ì¹˜ (ì¤‘ì‹¬ìœ¼ë¡œë¶€í„° radius - textRadiusOffset ë§Œí¼ ë–¨ì–´ì§€ê²Œ)
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.fillText(segment.text, radius - textRadiusOffset, 0);
    ctx.restore();
  }

  function drawWheel() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    const segAngle = (2 * Math.PI) / segments.length;
    for (let i = 0; i < segments.length; i++) {
      const angleStart = startAngle + i * segAngle;
      const angleEnd = angleStart + segAngle;
      drawSegment(i, angleStart, angleEnd);
    }

    // í°ìƒ‰ ì› (ì¤‘ì•™ ë¹ˆ ê³µê°„)
    ctx.beginPath();
    ctx.fillStyle = "white";
    ctx.arc(centerX, centerY, 60, 0, 2 * Math.PI);
    ctx.fill();
    ctx.closePath();
  }

  drawWheel();

  // íšŒì „ ë³€ìˆ˜
  let angularVelocity = 0; // ê°ì†ë„
  let angularAcceleration = 0; // ê°ì†ê°’
  let spinning = false;
  let currentAngle = 0;

  function spin() {
    if (spinning) return;

    spinning = true;
    angularVelocity = Math.random() * 0.3 + 0.4; // ë¹ ë¥´ê²Œ ì‹œì‘ (0.4 ~ 0.7 rad/frame)
    angularAcceleration = 0.005; // ê°ì† (ì–‘ìˆ˜)

    fun
